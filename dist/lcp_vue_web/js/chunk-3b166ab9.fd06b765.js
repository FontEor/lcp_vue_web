(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3b166ab9"],{"17dc":function(t,e,i){"use strict";i.r(e);var n=(i("14d9"),i("d3b7"),i("159b"),i("b32d")),o={name:"ApiNewHand",components:{MarkdownPreview:i("87fb").a},data:function(){return{idx:0,items:[],docContent:"",apiDocType:-1,navContent:[],isClickNav:!1,title:""}},computed:{findItem:function(){for(var t=this.items,e=this.$route.params.docId,i=0;i<t.length;i++){var n=t[i];if(n.id==e)return this.title=n.title,this.fetchDoc(),n}}},methods:{fetchDocList:function(){var t=this;Object(n.a)({url:"doc/getReleaseDocList",method:"get",params:{type:this.apiDocType}}).then((function(e){t.items=e.data.list})).catch((function(t){}))},fetchDoc:function(){var t=this;Object(n.a)({url:"doc/getReleaseDoc",method:"get",params:{type:this.apiDocType,title:this.title}}).then((function(e){t.docContent=e.data.content,t.$nextTick((function(){for(var e=1;e<10;e++){var i=document.querySelector(".markdown-preview").querySelectorAll("h"+e);if(i.length>0){for(var n=0;n<i.length;n++)if(""==i[n].classList.value){i[n].classList.add("action-tit");var o={};o.text=i[n].innerText,o.level=e,t.navContent.push(o)}t.$nextTick((function(){var t=document.querySelectorAll(".aside-view-right__navItem");t&&t.length>0&&(t.forEach((function(t){t.classList.remove("active")})),t[0].classList.add("active"))}));break}}}))})).catch((function(t){}))},selectNavItem:function(t){var e=this;this.isClickNav=!0;var i=document.querySelectorAll(".aside-view-right__navItem"),n=document.querySelectorAll(".action-tit");i.forEach((function(t){t.classList.remove("active")})),i[t].classList.add("active");var o=n[t].offsetTop-120;window.scrollTo({top:o,behavior:"smooth"}),setTimeout((function(){e.isClickNav=!1}),800)},scrollToLightNavItem:function(){var t=this;this.isClickNav||(clearTimeout(this.timerId),this.timerId=setTimeout((function(){var e=document.querySelectorAll(".aside-view-right__navItem"),i=document.querySelectorAll(".action-tit");i&&i.length>0&&(i.forEach((function(t,i){t.offsetTop-120<=document.documentElement.scrollTop&&(e.forEach((function(t){t.classList.remove("active")})),e[i].classList.add("active"))})),document.documentElement.scrollTop<i[0].offsetTop-120&&(e.forEach((function(t){t.classList.remove("active")})),e[0].classList.add("active"))),t.timerId=null}),300))}},created:function(){this.apiDocType="7",this.fetchDocList()},mounted:function(){window.addEventListener("scroll",this.scrollToLightNavItem),document.querySelector(".wly-main-container").setAttribute("style","overflow-x: visible")},destroyed:function(){document.querySelector(".wly-main-container").setAttribute("style","overflow-x: hidden"),window.removeEventListener("scroll",this.scrollToLightNavItem)}},c=o,a=(i("986b"),i("2877")),s=Object(a.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"devSupport-page"},[e("el-breadcrumb",{staticClass:"com-breadcrumb",attrs:{"separator-class":"el-icon-arrow-right"}},[e("el-breadcrumb-item",{attrs:{to:{name:"HelpDocument"}}},[t._v("文档")]),e("el-breadcrumb-item",[t._v("API使用指南")])],1),e("el-container",{staticClass:"container"},[e("el-aside",{staticClass:"aside-view",attrs:{width:"316px"}},[e("div",{staticClass:"router-list"},t._l(this.items,(function(i){return e("router-link",{key:i.id,staticClass:"link",attrs:{to:{name:"ApiNewHand",params:{docId:i.id}}}},[t._v(" "+t._s(i.title)+" ")])})),1)]),e("el-main",{staticClass:"main-view"},[this.$route.params.docId&&t.findItem?e("div",[t.docContent?e("MarkdownPreview",{staticClass:"markdown-preview",attrs:{after:t.fetchDoc},model:{value:t.docContent,callback:function(e){t.docContent=e},expression:"docContent"}}):t._e()],1):t._e()]),t.navContent.length>0?e("ul",{staticClass:"aside-view-right__navList"},t._l(t.navContent,(function(i,n){return e("li",{key:n,staticClass:"aside-view-right__navItem",on:{click:function(e){return t.selectNavItem(n)}}},[e("div",{staticStyle:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"},domProps:{innerHTML:t._s(i.text)}})])})),0):t._e()],1)],1)}),[],!1,null,"45eb4cc4",null);e.default=s.exports},4072:function(t,e,i){"use strict";i("6add")},"6add":function(t,e,i){},"87fb":function(t,e,i){"use strict";var n={name:"MarkdownPreview",props:{value:{type:String,default:""},after:{type:Function,default:function(){}}},data:function(){return{contentPreview:""}},mounted:function(){var t=this,e=document.querySelector("#VditorPreview");Vditor.preview(e,this.value,{IPreviewOptions:{cdn:"/vditor"},cdn:"/vditor",after:function(){t.after()}})}},o=n,c=(i("4072"),i("2877")),a=Object(c.a)(o,(function(){return(0,this._self._c)("div",{attrs:{id:"VditorPreview"}})}),[],!1,null,"c9333ad8",null);e.a=a.exports},"986b":function(t,e,i){"use strict";i("fe97")},fe97:function(t,e,i){}}]);
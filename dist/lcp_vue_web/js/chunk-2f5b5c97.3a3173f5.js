(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2f5b5c97"],{"193d":function(t,e,a){},"39e5":function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return c})),a("99af"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("88a7"),a("271a"),a("5494");var n=a("bc3a"),s=a.n(n),i=a("b32d");function o(){return Object(i.a)({url:"/bizapinterface/getUsingBaseSdkList",method:"get"}).then((function(t){return t.data}))}function c(t,e){null!=e&&s.a.create({baseURL:window.env.gatewayFileBaseApi,withCredentials:!0,timeout:1e5,headers:{"LOP-DN":window.env.gatewayUploadLopDn,fileName:t},responseType:"blob"})({url:"/lop/file/download",method:"get"}).then((function(t){var a=new Blob([t.data],{type:"application/octet-stream"});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(a,decodeURI(e));else{var n=window.URL.createObjectURL(a),s=document.createElement("a");s.style.display="none",s.href=n,s.setAttribute("download",decodeURI(e)),void 0===s.download&&s.setAttribute("target","_blank"),document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(n)}})).catch((function(t){}))}},"3c94":function(t,e,a){"use strict";var n=(a("a434"),{name:"TagTip",props:{text:{type:String,default:""},closable:{type:Boolean,default:!0}},data:function(){return{tagList:["tag"]}},methods:{handleCloseTag:function(t){this.tagList.splice(this.tagList.indexOf(t),1)}}}),s=n,i=(a("87af"),a("2877")),o=Object(i.a)(s,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"tagTip"},t._l(t.tagList,(function(a,n){return e("el-tag",{key:n,staticClass:"tagTip__tag",attrs:{closable:t.closable,"disable-transitions":!0,type:"info"},on:{close:function(e){return t.handleCloseTag(a)}}},[e("p",{staticClass:"tagTip__content"},[e("i",{staticClass:"el-icon-info"}),t._v("  "),t._t("default",(function(){return[t._v(t._s(t.text))]}))],2)])})),1)}),[],!1,null,"0c343daa",null);e.a=o.exports},5690:function(t,e,a){},"5b81":function(t,e,a){"use strict";var n=a("23e7"),s=a("c65b"),i=a("e330"),o=a("1d80"),c=a("1626"),r=a("7234"),l=a("44e7"),d=a("577e"),u=a("dc4a"),m=a("90d8"),p=a("0cb2"),v=a("b622"),f=a("c430"),h=v("replace"),g=TypeError,b=i("".indexOf),w=i("".replace),_=i("".slice),D=Math.max,C=function(t,e,a){return a>t.length?-1:""===e?a:b(t,e,a)};n({target:"String",proto:!0},{replaceAll:function(t,e){var a,n,i,v,L,y,I,T,k,N=o(this),j=0,x=0,O="";if(!r(t)){if((a=l(t))&&(n=d(o(m(t))),!~b(n,"g")))throw new g("`.replaceAll` does not allow non-global regexes");if(i=u(t,h))return s(i,t,N,e);if(f&&a)return w(d(N),t,e)}for(v=d(N),L=d(t),(y=c(e))||(e=d(e)),I=L.length,T=D(1,I),j=C(v,L,0);-1!==j;)k=y?d(e(L,j,v)):p(L,v,j,[],void 0,e),O+=_(v,x,j)+k,x=j+I,j=C(v,L,j+T);return x<v.length&&(O+=_(v,x)),O}})},"7a3ac":function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var n=a("b32d");function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return Object(n.a)({url:"/bizmsg/getBizUnitMsgs",method:"get",params:{unitId:t,lastId:e,pageSize:a}}).then((function(t){return t.data}))}},"87af":function(t,e,a){"use strict";a("193d")},"94db":function(t,e,a){"use strict";a.r(e);var n=a("c7eb"),s=a("1da1"),i=(a("99af"),a("d3b7"),a("159b"),a("b64b"),a("07ac"),a("ac1f"),a("5319"),a("5b81"),a("b0c0"),a("a9e3"),a("3c94")),o=a("4a7d"),c=a("fd6a"),r=a("b32d"),l=a("7a3ac"),d=a("722b"),u=a("39e5"),m={components:{TagTip:i.a,BlackFooter:o.a,ScreenshotEvaluation:c.a},data:function(){return{loginDialogVisible:!1,docClassification:this.$t("docContent.messageDoc.5ivhevpfxdo0"),showDocClassification:!1,showMessage:!0,unMatchDocId:0,bizApis:[],bizMessages:[],unitId:parseInt(this.$route.params.unitId),docId:parseInt(this.$route.params.docId),docTypeMain:2,updateTime:"",helpful:void 0,buttonLoading:!1,evaluationButtonDisabled:!1,activeName:"first",messageActiveName:"first",messagesWithUnits:[],messagesWithUnit:"",inParamsTableData:[],messageDemo:"",messageName:"",messageChineseName:"",messageDesc:"",messageId:0,isClickNav:!1,timerId:null,navList:[this.$t("docContent.messageDoc.5ivhevpfwgs0"),this.$t("docContent.messageDoc.5ivhevpfxa80")],menuList:[],messageFileName:"",docName:"",jssKey:""}},computed:{isRoutePath:function(){return"preview-docking-plan"===this.$route.path.split("/")[1]},computeAccessGuideDoc:function(){var t=this.$route.params.unitId,e="".concat(window.location.origin,"/#/open-business-document/access-guide/").concat(t);return this.isRoutePath&&(e="".concat(window.location.origin,"/#/preview-docking-plan/access-guide/").concat(t)),e},messageDocListLen:function(){return d.a.messageDocListLen},formatUpdateTimeText:function(){var t=this.updateTime;return t?"更新时间：".concat(this.$dayjs(t).format("YYYY-MM-DD HH:mm:ss")):""}},methods:{genMessageHtml:function(){var t=this;return Object(s.a)(Object(n.a)().mark((function e(){var a,s,i,o;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/downDoc/genMessageHtml","get",a=t.$route.params,s=a.unitId,i=a.docId,o={id:i,unitId:s},e.next=6,Object(r.a)({url:"/downDoc/genMessageHtml",method:"get",params:o}).then((function(e){t.docName=e.data.fileName,t.jssKey=e.data.jssKey})).catch((function(t){}));case 6:case"end":return e.stop()}}),e)})))()},downBasicSdk:function(){null!==this.jssKey&&void 0!==this.jssKey&&""!==this.jssKey||!this.docName?Object(u.a)(this.jssKey,this.docName):this.$message.error("文件不存在!")},scrollToLightNavItem:function(){var t=this;this.isClickNav||(clearTimeout(this.timerId),this.timerId=setTimeout((function(){var e=document.querySelectorAll(".aside-view-right__navItem"),a=document.querySelectorAll(".action-tit");a&&a.length>0&&(a.forEach((function(t,a){t.offsetTop-120<=document.documentElement.scrollTop&&(e.forEach((function(t){t.classList.remove("active")})),e[a].classList.add("active"))})),document.documentElement.scrollTop<a[0].offsetTop-120&&(e.forEach((function(t){t.classList.remove("active")})),e[0].classList.add("active"))),t.timerId=null}),300))},selectNavItem:function(t){var e=this;this.isClickNav=!0;var a=document.querySelectorAll(".aside-view-right__navItem"),n=document.querySelectorAll(".action-tit");a.forEach((function(t){t.classList.remove("active")})),a[t].classList.add("active");var s=n[t].offsetTop-120;window.scrollTo({top:s,behavior:"smooth"}),setTimeout((function(){e.isClickNav=!1}),800)},formatSpecialChar:function(t){for(var e={"&quot;":'"',"&amp;":"&","&lt;":"<","&gt;":">","&nbsp;":" "},a=Object.keys(e),n=Object.values(e),s=0;s<a.length;s++)t=t.replaceAll(a[s],n[s]);return t},fetchDocData:function(){var t=this;return Object(s.a)(Object(n.a)().mark((function e(){var a,s,i,o,c,l,u;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="/bizmsg/getMessageDetails",s="post",i=t.$route.params,o=i.unitId,c=i.docId,l={unitId:o,id:c},!t.isRoutePath){e.next=12;break}return a="/bizview/getMessagePreDetails",s="get",u={id:c,approvalNumber:d.a.approvalNumber},e.next=11,Object(r.a)({url:a,method:s,params:u});case 11:case 14:return e.abrupt("return",e.sent);case 12:return e.next=14,Object(r.a)({url:a,method:s,data:l,headers:{"Content-Type":"application/json"}});case 15:case"end":return e.stop()}}),e)})))()},handleDocData:function(){var t=this;return Object(s.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchDocData().then((function(e){if(e.data){t.inParamsTableData=e.data.messagePropList?e.data.messagePropList:[],t.messageDemo=e.data.messageDemo?e.data.messageDemo:"",t.messageName=e.data.name?e.data.name:"",t.messageChineseName=e.data.chineseName?e.data.chineseName:"",t.updateTime=e.data.updateTime,t.messageDesc=e.data.descr?e.data.descr:"",t.messageId=e.data.messageId?e.data.id:0;var a=document.querySelectorAll(".aside-view-right__navItem");a.forEach((function(t){t.classList.remove("active")})),a[0].classList.add("active")}})).catch((function(t){}));case 2:case"end":return e.stop()}}),e)})))()},getMenuList:function(){var t=this;Object(l.a)(Number(this.unitId)).then((function(e){t.menuList=e})).catch((function(t){}))},handleGatewayError:function(t){this.$message.error(t.response.data.error_response.zh_desc)}},mounted:function(){window.addEventListener("scroll",this.scrollToLightNavItem),this.scrollToLightNavItem(),this.getMenuList(),this.handleDocData(),this.genMessageHtml()},destroyed:function(){window.removeEventListener("scroll",this.scrollToLightNavItem)}},p=m,v=(a("f373"),a("2877")),f=Object(v.a)(p,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"messageQuick"},[e("el-container",{staticClass:"message-container"},[t.menuList.length>0||t.messageDocListLen>0?e("el-main",{staticClass:"main-view"},[e("TagTip",{staticClass:"tag-tip",attrs:{closable:!1}},[t._v(" "+t._s(t.$t("docContent.messageDoc.5ivhevpfvk40"))),e("a",{staticClass:"linked-doc",attrs:{href:t.computeAccessGuideDoc}},[t._v(t._s(t.$t("docContent.messageDoc.5ivhevpfwaw0")))]),t._v(t._s(t.$t("docContent.messageDoc.5ivthyede9w0"))+" ")]),e("el-button",{staticStyle:{position:"absolute",top:"0",right:"0"},attrs:{type:"primary",plain:""},on:{click:function(e){return t.downBasicSdk()}}},[t._v(t._s(t.$t("docContent.5ivhevpfxdo1")))]),e("div",{staticStyle:{padding:"16px"}},[e("h2",{staticClass:"tit"},[t._v(t._s(t.messageName)+" ("+t._s(t.messageChineseName)+")")]),e("p",{staticClass:"tip",staticStyle:{"white-space":"pre-line"}},[t._v(t._s(t.messageDesc))]),e("div",{staticClass:"update-time-evaluation"},[e("p",[t._v(t._s(t.formatUpdateTimeText))]),e("ScreenshotEvaluation",{attrs:{objId:t.docId,docTypeMain:t.docTypeMain,bizUnitId:t.unitId,helpful:t.helpful,buttonLoading:t.buttonLoading,evaluationButtonDisabled:t.evaluationButtonDisabled,inline:""},on:{"update:helpful":function(e){t.helpful=e},"update:buttonLoading":function(e){t.buttonLoading=e},"update:button-loading":function(e){t.buttonLoading=e},"update:evaluationButtonDisabled":function(e){t.evaluationButtonDisabled=e},"update:evaluation-button-disabled":function(e){t.evaluationButtonDisabled=e}}})],1),e("el-divider",{staticClass:"help-divider"}),e("div",{staticClass:"action-con"},[e("h3",{staticClass:"action-tit"},[t._v(" "+t._s(t.$t("docContent.messageDoc.5ivhevpfwgs0"))+" ")]),e("el-table",{attrs:{data:t.inParamsTableData,"row-key":"id","tree-props":{children:"children"}}},[e("el-table-column",{attrs:{prop:"name",label:t.$t("docContent.messageDoc.5ivhevpfwko0"),"min-width":"22%","show-overflow-tooltip":!0}}),e("el-table-column",{attrs:{prop:"type",label:t.$t("docContent.messageDoc.5ivhevpfwp00"),"min-width":"20%","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(t.formatSpecialChar(a.type))+" ")]}}],null,!1,2148587324)}),e("el-table-column",{attrs:{prop:"required",label:t.$t("docContent.messageDoc.5ivhevpfwsw0"),"min-width":"15%"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(1===a.row.required?t.$t("docContent.messageDoc.5ivhevpfwwo0"):""))]),e("span",[t._v(t._s(0===a.row.required?t.$t("docContent.messageDoc.5ivhevpfx080"):""))]),e("span",[t._v(t._s((a.row.required,"")))])]}}],null,!1,2017312136)}),e("el-table-column",{attrs:{prop:"exampleValue",label:t.$t("docContent.messageDoc.5ivhevpfx3k0"),"min-width":"15%","show-overflow-tooltip":!0}}),e("el-table-column",{attrs:{prop:"descr",label:t.$t("docContent.messageDoc.5ivhevpfx700"),"min-width":"28%"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.row,s=a.column.property;return[e("div",{staticStyle:{"white-space":"pre-line"}},[t._v(t._s(n[s]))])]}}],null,!1,414334452)})],1)],1),e("div",{staticClass:"action-con"},[e("h3",{staticClass:"action-tit"},[t._v(" "+t._s(t.$t("docContent.messageDoc.5ivhevpfxa80"))+" ")]),e("el-tabs",{model:{value:t.messageActiveName,callback:function(e){t.messageActiveName=e},expression:"messageActiveName"}},[e("el-tab-pane",{attrs:{label:"JSON",name:"first"}},[e("div",{staticClass:"demo response-demo"},[e("pre",[t._v(t._s(t.messageDemo))])])])],1)],1),e("el-divider"),e("ScreenshotEvaluation",{attrs:{objId:t.docId,docTypeMain:t.docTypeMain,bizUnitId:t.unitId,helpful:t.helpful,buttonLoading:t.buttonLoading,evaluationButtonDisabled:t.evaluationButtonDisabled},on:{"update:helpful":function(e){t.helpful=e},"update:buttonLoading":function(e){t.buttonLoading=e},"update:button-loading":function(e){t.buttonLoading=e},"update:evaluationButtonDisabled":function(e){t.evaluationButtonDisabled=e},"update:evaluation-button-disabled":function(e){t.evaluationButtonDisabled=e}}})],1)],1):t._e(),e("aside",{staticClass:"aside-view-right",class:{"aside-view-right-preview":t.isRoutePath}},[e("ul",{staticClass:"aside-view-right__navList"},t._l(t.navList,(function(a,n){return e("li",{key:n,staticClass:"aside-view-right__navItem",on:{click:function(e){return t.selectNavItem(n)}}},[t._v(" "+t._s(a)+" ")])})),0)])],1),t.isRoutePath?t._e():e("BlackFooter")],1)}),[],!1,null,"6951e1f4",null);e.default=f.exports},f373:function(t,e,a){"use strict";a("5690")}}]);
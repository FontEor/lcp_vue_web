(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4249866f"],{2950:function(t,e,a){"use strict";a.r(e);var i=(a("b0c0"),a("14d9"),a("d3b7"),a("159b"),a("87fb")),o=a("b32d"),c=a("ed08"),n=a("48ea"),r={name:"SoftwareSystem",components:{MarkdownPreview:i.a},data:function(){return{id:this.$route.params.id,docId:this.$route.params.docId,data:[],defaultProps:{children:"children",label:"title"},selectDefault:[],selectDefaultKey:"",docTitle:"",docContent:"",docUpdateTime:"",prodName:"",docType:"",selectRoot:[],prodDockeywords:"",navContent:[],isClickNav:!1}},watch:{selectDefault:function(t,e){var a=this;t&&this.$nextTick((function(){a.selectDefaultKey=t[0],a.$refs.docTree.setCurrentKey(a.selectDefaultKey)}))}},methods:{fetchOuterProdSummary:function(){var t=this;Object(o.a)({url:"/outer/product",method:"get",params:{id:this.$route.params.id}}).then((function(e){t.prodName=e.data.name})).catch((function(t){}))},fetchInnerProdSummary:function(){var t=this;Object(o.a)({url:"/product/release",method:"get",params:{id:this.$route.params.id}}).then((function(e){t.prodName=e.data.name})).catch((function(t){}))},fetchOuterDocTree:function(){var t=this;Object(o.a)({url:"/outer/doc/getReleasedProductDocTree",method:"get",params:{productId:this.id}}).then((function(e){t.data=e.data[0].children,t.docId&&t.fetchDocWithId(t.docId)})).catch((function(t){}))},fetchInnerDocTree:function(){var t=this;Object(o.a)({url:"/doc/getReleasedProductDocTree",method:"get",params:{productId:this.id}}).then((function(e){t.data=e.data[0].children,t.docId&&t.fetchDocWithId(t.docId)})).catch((function(t){}))},fetchDocWithId:function(t){var e=this,a=Object(n.a)()?"/doc/findReleaseDocById":"/outer/doc/getReleaseDocById";Object(o.a)({url:a,method:"get",params:{id:t}}).then((function(t){e.docContent=t.data.content,e.docTitle=t.data.title,e.docType=t.data.docType,t.data.updateTime&&(e.docUpdateTime=Object(c.a)(t.data.updateTime,"{y}-{m}-{d} {h}:{i}")),e.docId&&e.selectDefault.push(e.docId),e.initAsideNav()})).catch((function(t){}))},initAsideNav:function(){for(var t=1;t<10;t++){var e=document.querySelector(".markdown-preview").querySelectorAll("h"+t);if(e.length>0){for(var a=0;a<e.length;a++)if(""==e[a].classList.value){e[a].classList.add("action-tit");var i={};i.text=e[a].innerText,i.level=t,this.navContent.push(i)}this.$nextTick((function(){var t=document.querySelectorAll(".aside-view-right__navItem");t&&t.length>0&&(t.forEach((function(t){t.classList.remove("active")})),t[0].classList.add("active"))}));break}}},fetchDocWithRouter:function(t){this.docType=t.docType,2===this.docType&&this.$router.push({name:"DocSoftwareSystem",params:{id:this.id,docId:t.id}})},downloadPdf:function(){Object(o.a)({url:"/outer/doc/pdf",method:"get",params:{productId:this.id}}).then((function(t){var e=document.createElement("a");e.href=t.data,e.setAttribute("target","_blank"),document.body.appendChild(e),e.click(),document.body.removeChild(e)})).catch((function(t){}))},searchProdDoc:function(){if(this.prodDockeywords){var t=this.prodDockeywords;this.$router.push({path:"/searchResult",query:{q:t,productId:this.id,activeName:"fifth"}}),this.prodDockeywords=""}},selectNavItem:function(t){var e=this;this.isClickNav=!0;var a=document.querySelectorAll(".aside-view-right__navItem"),i=document.querySelectorAll(".action-tit");a.forEach((function(t){t.classList.remove("active")})),a[t].classList.add("active");var o=i[t].offsetTop-120;window.scrollTo({top:o,behavior:"smooth"}),setTimeout((function(){e.isClickNav=!1}),800)},scrollToLightNavItem:function(){var t=this;this.isClickNav||(clearTimeout(this.timerId),this.timerId=setTimeout((function(){var e=document.querySelectorAll(".aside-view-right__navItem"),a=document.querySelectorAll(".action-tit");a&&a.length>0&&(a.forEach((function(t,a){t.offsetTop-120<=document.documentElement.scrollTop&&(e.forEach((function(t){t.classList.remove("active")})),e[a].classList.add("active"))})),document.documentElement.scrollTop<a[0].offsetTop-120&&(e.forEach((function(t){t.classList.remove("active")})),e[0].classList.add("active"))),t.timerId=null}),300))}},created:function(){Object(n.a)()?(this.fetchInnerProdSummary(),this.fetchInnerDocTree()):(this.fetchOuterProdSummary(),this.fetchOuterDocTree())},mounted:function(){window.addEventListener("scroll",this.scrollToLightNavItem),document.querySelector(".wly-main-container").setAttribute("style","overflow-x: visible")},destroyed:function(){document.querySelector(".wly-main-container").setAttribute("style","overflow-x: hidden"),window.removeEventListener("scroll",this.scrollToLightNavItem)}},d=r,s=(a("ca82"),a("2877")),l=Object(s.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"softwareSystem-page"},[e("el-breadcrumb",{staticClass:"com-breadcrumb",attrs:{"separator-class":"el-icon-arrow-right"}},[e("el-breadcrumb-item",{attrs:{to:{name:"HelpDocument"}}},[t._v(t._s(t.$t("docDetail.SoftwareSystem.5ivktslc3og0")))]),e("el-breadcrumb-item",[t._v(t._s(t.prodName))])],1),e("el-container",{staticClass:"container"},[e("el-aside",{staticClass:"aside-view",attrs:{width:"316px"}},[e("div",{staticClass:"aside-view-top"},[e("h2",{staticClass:"tit"},[t._v(t._s(t.prodName))])]),e("el-tree",{ref:"docTree",staticClass:"view-tree",attrs:{data:t.data,props:t.defaultProps,"highlight-current":!0,"expand-on-click-node":!0,"default-expand-all":!1,"current-node-key":t.selectDefaultKey,"default-expanded-keys":t.selectDefault,"node-key":"id",indent:30},on:{"node-click":t.fetchDocWithRouter}})],1),e("el-main",{staticClass:"main-view"},[null!=this.docContent?e("div",[e("h2",{staticClass:"tit2 cf"},[t._v(" "+t._s(t.docTitle)+" "),e("el-button",{staticClass:"com-radius0 fr",attrs:{main:""},on:{click:t.downloadPdf}},[t._v(" "+t._s(t.$t("docDetail.SoftwareSystem.5ivktslc4es0"))+" ")]),e("div",{staticClass:"search-bar",staticStyle:{width:"200px",float:"right","margin-right":"5px"}},[e("el-input",{attrs:{clearable:"",placeholder:t.$t("docDetail.SoftwareSystem.5ivktslc4js0"),"suffix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchProdDoc()}},model:{value:t.prodDockeywords,callback:function(e){t.prodDockeywords=e},expression:"prodDockeywords"}})],1)],1),e("p",{staticClass:"tip"},[t._v(" "+t._s(t.$t("docDetail.SoftwareSystem.5ivktslc4js1"))+t._s(t.docUpdateTime)+" ")]),t.docContent?e("MarkdownPreview",{staticClass:"markdown-preview",attrs:{after:t.initAsideNav},model:{value:t.docContent,callback:function(e){t.docContent=e},expression:"docContent"}}):t._e()],1):t._e()]),t.navContent.length>0?e("ul",{staticClass:"aside-view-right__navList"},t._l(t.navContent,(function(a,i){return e("li",{key:i,staticClass:"aside-view-right__navItem",on:{click:function(e){return t.selectNavItem(i)}}},[e("div",{staticStyle:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"},domProps:{innerHTML:t._s(a.text)}})])})),0):t._e()],1)],1)}),[],!1,null,"8c9edd12",null);e.default=l.exports},"2e98":function(t,e,a){"use strict";a("b93c")},"71aa":function(t,e,a){},"87fb":function(t,e,a){"use strict";var i={name:"MarkdownPreview",props:{value:{type:String,default:""},after:{type:Function,default:function(){}}},data:function(){return{contentPreview:""}},mounted:function(){var t=this,e=document.querySelector("#VditorPreview");Vditor.preview(e,this.value,{IPreviewOptions:{cdn:"/vditor"},cdn:"/vditor",after:function(){t.after()}})}},o=i,c=(a("2e98"),a("2877")),n=Object(c.a)(o,(function(){return(0,this._self._c)("div",{attrs:{id:"VditorPreview"}})}),[],!1,null,"c9333ad8",null);e.a=n.exports},b93c:function(t,e,a){},ca82:function(t,e,a){"use strict";a("71aa")},ed08:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var i=a("53ca");function o(t,e){if(0===arguments.length)return null;var a,o=e||"{y}-{m}-{d} {h}:{i}:{s}";if("object"===Object(i.a)(t))a=t;else{"string"==typeof t&&/^[0-9]+$/.test(t)&&(t=parseInt(t)),"number"==typeof t&&10===t.toString().length&&(t*=1e3);var c=function(){var t=navigator,e=t.userAgent;return e.indexOf("Opera")>-1||e.indexOf("OPR")>-1?"Opera":e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1?"IE":e.indexOf("Edge")>-1?"Edge":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("Safari")>-1&&-1==e.indexOf("Chrome")?"Safari":e.indexOf("Chrome")>-1&&e.indexOf("Safari")>-1?"Chrome":window.ActiveXObject||"ActiveXObject"in window?"IE>=11":"Unkonwn"}();"Safari"===c?(t=(t=t.replace("T"," ")).replace(".000+0000",""),a=new Date(t.replace(/ /g,"T"))):a=new Date(t)}var n={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()},r=o.replace(/{([ymdhisa])+}/g,(function(t,e){var a=n[e];return"a"===e?["日","一","二","三","四","五","六"][a]:a.toString().padStart(2,"0")}));return r}a("ac1f"),a("00b4"),a("d3b7"),a("25f0"),a("5319"),a("4d90"),a("99af")}}]);
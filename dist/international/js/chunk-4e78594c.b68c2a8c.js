(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4e78594c"],{1799:function(e,t,a){"use strict";var n=(a("a9e3"),{name:"Pagination",props:{currentPage:{type:Number,required:!0},pageSize:{type:Number,required:!0},total:{type:Number,default:0},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},reloadTableData:{type:Function,default:function(){}}},methods:{onCurrentChange:function(e){this.$emit("update:currentPage",e),this.reloadTableData()},onSizeChange:function(e){this.$emit("update:pageSize",e),this.reloadTableData()}}}),o=n,r=(a("3fca"),a("2877")),s=Object(r.a)(o,(function(){var e=this;return(0,e._self._c)("el-pagination",{staticClass:"pagination",attrs:{background:!0,"current-page":e.currentPage,"page-size":e.pageSize,"page-sizes":e.pageSizes,total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"current-change":e.onCurrentChange,"size-change":e.onSizeChange}})}),[],!1,null,"52f386a2",null);t.a=s.exports},"2a08":function(e,t,a){"use strict";a.r(t);var n=a("c7eb"),o=a("1da1"),r=(a("a9e3"),a("e9c4"),a("ac1f"),a("00b4"),a("b32d")),s=a("1799"),i=a("6aca"),l=a("107f"),u=(a("5319"),a("99af"),a("5b81"),{timeInTable:function(e){"string"==typeof e&&e.replace(".000+0000","");var t=new Date(e);return e?"".concat(t.toLocaleDateString().replaceAll("/","-")," ").concat(t.toTimeString().split(" ")[0]):""}}),c=u,p=a("a78e"),d=a.n(p),m={components:{Pagination:s.a},data:function(){return{listQuery:{total:0,pageNum:1,pageSize:10,pageSizes:[10,20,30,40]},tableData:[],loading:!1,env:window.env.baseEnv}},created:function(){this.fetchSystem()},methods:{fetchSystem:function(){var e=this;return Object(o.a)(Object(n.a)().mark((function t(){var a;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=Number(d.a.get("supplierId")),e.loading=!0,-1===a?Object(r.a)({url:"/user/saveOutDeveloper",method:"get"}).then((function(t){d.a.set("supplierId",t.data.supplierId),i.a.SET_USER_DEVELOP(t.data.develop),e.querySystem()})).catch((function(t){e.loading=!1})):e.querySystem();case 3:case"end":return t.stop()}}),t)})))()},querySystem:function(){var e=this;return Object(o.a)(Object(n.a)().mark((function t(){var a;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!1,t.next=3,l.a.selectProductApplyByUserId();case 3:a=t.sent,e.tableData=a.data.list,e.listQuery.total=a.data.total;case 7:case"end":return t.stop()}}),t)})))()},paginationChange:function(e){this.listQuery.pageNum=e.page,this.listQuery.pageSize=e.limit,this.querySystem()},copySuccess:function(){this.$message({message:"链接复制成功！",type:"success"})},copyError:function(){this.$message({message:"链接复制失败！",type:"success"})},rowClassName:function(e){var t=e.row,a=e.rowIndex;t.number=a+1},handleCommand:function(e){/^([http|https]*?:\/{2})/.test(e)?window.open(e,"_blank"):window.open("http://"+e,"_blank")},formatTime:function(e){return c.timeInTable(e)}}},f=m,g=(a("3316"),a("2877")),w=Object(g.a)(f,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-wrap my-pd"},[t("div",{staticClass:"my-column"},[e._m(0),t("el-row",[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableData,stripe:"","row-class-name":e.rowClassName,"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading","default-sort":{prop:"applyTime",order:"descending"}}},[t("el-table-column",{attrs:{prop:"number",label:"序号",width:"50",align:"center"}}),t("el-table-column",{attrs:{prop:"code",label:"系统ID",width:"150","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"productName",label:"系统名称",width:"140","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"versionName",label:"订阅版本",width:"100"}}),t("el-table-column",{attrs:{prop:"timeLength",label:"订阅时长",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.timeLength))]),t("span",[e._v("年")])]}}])}),t("el-table-column",{attrs:{prop:"status",label:"状态",width:"80"},scopedSlots:e._u([{key:"default",fn:function(a){return[1===a.row.status?t("span",{staticClass:"status1"},[e._v("审核中")]):e._e(),2===a.row.status?t("span",{staticClass:"status2"},[e._v("申请成功")]):e._e(),3===a.row.status?t("span",{staticClass:"status3"},[e._v("已驳回")]):e._e()]}}])}),t("el-table-column",{attrs:{sortable:"",prop:"applyTime",label:"系统申请时间",width:"155","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatTime(t.row.applyTime))+" ")]}}])}),t("el-table-column",{attrs:{prop:"endTime",label:"版本有效期",width:"155","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return 2===t.row.status?[e._v(" "+e._s(e.formatTime(t.row.endTime))+" ")]:void 0}}],null,!0)}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[2===a.row.status?t("el-dropdown",{on:{command:e.handleCommand}},[t("span",{staticClass:"el-dropdown-link"},[e._v(" 进入系统"),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},["lEnv"===e.env||"devtest"===e.env?t("el-dropdown-item",{attrs:{command:a.row.domainName}},[e._v("测试环境")]):"uat"===e.env||"prod"===e.env?[t("el-dropdown-item",{attrs:{command:a.row.uatDomainName}},[e._v("预发环境")]),t("el-dropdown-item",{attrs:{command:a.row.domainName}},[e._v("线上环境")])]:e._e()],2)],1):e._e()]}}])})],1),t("pagination",{directives:[{name:"show",rawName:"v-show",value:e.listQuery.total,expression:"listQuery.total"}],staticStyle:{float:"right"},attrs:{id:"systemPagination",total:e.listQuery.total,pageSizes:e.listQuery.pageSizes,page:e.listQuery.pageNum,limit:e.listQuery.pageSize},on:{"update:pageSizes":function(t){return e.$set(e.listQuery,"pageSizes",t)},"update:page-sizes":function(t){return e.$set(e.listQuery,"pageSizes",t)},"update:page":function(t){return e.$set(e.listQuery,"pageNum",t)},"update:limit":function(t){return e.$set(e.listQuery,"pageSize",t)},pagination:e.paginationChange}})],1)],1)])}),[function(){var e=this,t=e._self._c;return t("h3",{staticClass:"my-column-title"},[t("span",{staticClass:"right-tip"},[e._v("提示：系统创建需要一定的时间，请您耐心等待。")]),e._v("我的系统 ")])}],!1,null,"7105b158",null);t.default=w.exports},3316:function(e,t,a){"use strict";a("5d28")},"3fca":function(e,t,a){"use strict";a("848d")},"5b81":function(e,t,a){"use strict";var n=a("23e7"),o=a("c65b"),r=a("e330"),s=a("1d80"),i=a("1626"),l=a("7234"),u=a("44e7"),c=a("577e"),p=a("dc4a"),d=a("90d8"),m=a("0cb2"),f=a("b622"),g=a("c430"),w=f("replace"),h=TypeError,b=r("".indexOf),v=r("".replace),y=r("".slice),_=Math.max,S=function(e,t,a){return a>e.length?-1:""===t?a:b(e,t,a)};n({target:"String",proto:!0},{replaceAll:function(e,t){var a,n,r,f,z,C,N,T,k,Q=s(this),x=0,D=0,O="";if(!l(e)){if((a=u(e))&&(n=c(s(d(e))),!~b(n,"g")))throw h("`.replaceAll` does not allow non-global regexes");if(r=p(e,w))return o(r,e,Q,t);if(g&&a)return v(c(Q),e,t)}for(f=c(Q),z=c(e),(C=i(t))||(t=c(t)),N=z.length,T=_(1,N),x=S(f,z,0);-1!==x;)k=C?c(t(z,x,f)):m(z,f,x,[],void 0,t),O+=y(f,D,x)+k,D=x+N,x=S(f,z,x+T);return D<f.length&&(O+=y(f,D)),O}})},"5d28":function(e,t,a){},"848d":function(e,t,a){}}]);
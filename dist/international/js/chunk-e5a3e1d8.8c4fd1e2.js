(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e5a3e1d8"],{"346e":function(e,t,n){"use strict";n("d2d4")},b9f2:function(e,t,n){"use strict";n.r(t),n("b0c0");var r=n("c7eb"),a=n("1da1"),s=(n("a9e3"),n("d9e2"),n("14d9"),n("b32d")),o=n("6aca"),i=n("a78e"),c=n.n(i),u=n("ddf6"),f={name:"ChooseSupplier",data:function(){return{teamList:[],showtips:!1,tips:"",form:{info:""},rules:{info:[{required:!0,message:"请选择登录团队"}]}}},computed:{user_develop:function(){return o.a.user_develop},supplierId:function(){return Number(c.a.get("supplierId"))}},methods:{saveDeveloper:function(){return Object(a.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.user.saveDeveloper().catch((function(e){throw new Error("saveDeveloper, ".concat(e))}));case 2:case"end":return e.stop()}}),e)})))()},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.chooseSupplier(t.form.info)}))},chooseSupplier:function(e){var t=this;return Object(a.a)(Object(r.a)().mark((function n(){var a,o;return Object(r.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.id,o=e.code,n.prev=1,n.next=4,Object(s.a)({url:"/user/chooseSupplier",method:"get",params:{supplierId:a}});case 4:return c.a.set("supplierId",a),c.a.set("groupCode",o),n.next=8,t.updateUserInfo();case 8:t.gotoNewLink(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1);case 14:case"end":return n.stop()}}),n,null,[[1,11]])})))()},handleGetTeamListInfo:function(){var e=this;return Object(a.a)(Object(r.a)().mark((function t(){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.a)({url:"/user/getTeamListInfo",method:"post"}).then((function(t){e.teamList=t.data,e.form.info=e.teamList[0]})).catch((function(e){}));case 2:case"end":return t.stop()}}),t)})))()},updateUserInfo:function(){return Object(a.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(s.a)("/hrInfo/getUserInfo").then((function(e){c.a.set("supplierId",e.data.supplierId),o.a.SET_USER_DEVELOP(e.data.develop)})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})))()},gotoNewLink:function(){var e=o.a.redirectUrl||"",t=sessionStorage.getItem("redirectNextLink"),n=e.indexOf("home");t?window.location.href=t:e&&-1==n?-1!==e.indexOf("/#/chooseSupplier")&&-1!==location.href.indexOf("/#/chooseSupplier")?this.$router.push("/home"):window.location.href=e:this.$router.push("/home")},closeWarnning:function(){this.showtips=!1}},created:function(){var e=this;return Object(a.a)(Object(r.a)().mark((function t(){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.saveDeveloper();case 2:return t.next=4,e.handleGetTeamListInfo();case 4:case"end":return t.stop()}}),t)})))()}},l=f,p=(n("346e"),n("2877")),d=Object(p.a)(l,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-index"},[e._m(0),t("div",{staticClass:"con-box"},[t("div",{staticClass:"con-left"}),t("div",{staticClass:"logo-form"},[this.showtips?t("p",{staticClass:"warning-info cbox"},[t("i",{staticClass:"el-icon-warning"}),t("span",{staticClass:"info flex1"},[e._v(e._s(e.tips))]),t("i",{staticClass:"el-icon-close",on:{click:e.closeWarnning}})]):e._e(),t("h3",{staticClass:"title"},[e._v("选择登录团队")]),t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{prop:"info"}},[t("el-select",{attrs:{"value-key":"id",placeholder:"团队名称",size:"big"},model:{value:e.form.info,callback:function(t){e.$set(e.form,"info",t)},expression:"form.info"}},e._l(e.teamList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e}})})),1)],1),t("div",{staticClass:"create"}),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("登录")])],1)],1)])])}),[function(){var e=this._self._c;return e("header",{staticClass:"login-head"},[e("div",{staticClass:"cbox head-con"},[e("h1",{staticClass:"logo ti"},[this._v("JDL京东物流")])])])}],!1,null,"219ee0b7",null);t.default=d.exports},d2d4:function(e,t,n){}}]);